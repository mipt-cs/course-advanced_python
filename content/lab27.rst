Предобработка данных
####################################

:date: 2021-04-13 09:00
:summary: Классические методы машинного обучения, ч.2, модуль scikit-learn
:status: draft

.. default-role:: code

.. contents:: Содержание

.. role:: python(code)
   :language: python


Эквализация гистограмм.
=====================================

Теория
------

Гистограмма цветов
++++++++++++++++++
Гистогра́мма (в фотографии) — это график статистического распределения элементов цифрового изображения
с различной яркостью, в котором по горизонтальной оси представлена яркость,
а по вертикали — относительное число пикселов с конкретным значением яркости.

В черно-белом изображении яркость непосредственно определяется значением пиксела.
Чем больше значение пиксела (чем он светлее) - тем он ярче.

В цветных изображениях, обычно, каждый пиксел описывается тремя параметрами:
долей красного в цвете, долей зеленого в цвете, долей синего в цвете.
Тогда, для вычисления яркости используется взвешенная сумма каждого из значений пикселов.

Вот примеры гистограмм изображений.

.. image:: {filename}/images/lab27/histograms.png
   :width: 100%

Как мы видим, если изображение сильно цветное, то гистограмма более или менее равномерна.

Если много черного цвета, то "горб" гистограммы ближе к левому краю, если много белого, то к правому.


Эквализация
+++++++++++
Рассмотрим задачу эквализации (спрямления) распределения.
Т.е. из чисел, которые распределены, например, по такому закону:

.. image:: {filename}/images/lab27/hist1.png
   :width: 50%

При помощи некоторого правила числа меняются. После изменения данные становятся распределенными по равномерному такому закону:

.. image:: {filename}/images/lab27/hist2.png
   :width: 50%

Даная операция применяется в обработке изображений для Увеличения яркости/контрастности и качества изображения вцелом.

.. image:: {filename}/images/lab27/lena.jpg
   :width: 80%

Перцентили
++++++++++

Перцентиль p - это число a, такое, что, если взять из интересующей последовательности A все числа, меньше a,
то количество этих чисел будет составлять p% от общей длинны последовательности A.

Другое объяснение, что Перцентиль p - это число а, такое что, если отсортировать исходную последовательность А, то p% чисел окажутся слева от а.

Для вычисления перцентилей в numpy встроенна функция `numpy.percentile(values, percentile)'`

Рассмотрим пример ее работы:

.. code-block:: python

	>>> values = [3, 4, 1, 2, 5, 6, 7, 8, 9, 10]
	>>> np.percentile(values, 20)
	2.8
	>>> np.percentile(values, 40)
	4.6

